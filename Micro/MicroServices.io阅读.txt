


API Gateway理解

		为服务中要解决的问题：

				微服务提供的API通常与客户端所需的不同。微服务通常提供细粒度的API，这意味着客户端需要与多种服务进行交互。例如，如上所述，需要产品细节的客户需要从众多微服务中汇总数据才能显示完整。

				不同的客户端需要不同的数据。例如，桌面浏览器版本的"产品详细信息页面"通常比移动版本更详尽。

				不同类型的客户端的网络性能是不同的。例如，与非移动网络相比，移动网络通常要慢得多并且延迟要高得多。而且，当然，任何WAN都比LAN慢得多。这意味着本机移动客户端使用的网络性能与服务器端Web应用程序使用的LAN的性能差异很大。服务器端Web应用程序可以向后端服务发出多个请求，而不会影响用户体验，而移动客户端只能提供几个请求。

				服务实例数量及其位置（主机+端口）动态变化，比如微服务集群经常维护

				划分服务会随着时间的推移而变化，应该对客户端隐藏

				服务可能会使用多种协议，其中一些协议可能对网络要求不友好


		解决问题的方案：

				它是所有客户端的单个入口点。API网关以两种方式之一处理请求。一些请求被代理/路由到适当的服务。它通过扇出到多个服务来处理请求

				API网关可以提供每个客户端一个不同的API，而不是提供一种千篇一律的API。例如，Netflix API网关运行特定于客户端的适配器代码，该代码为每个客户端提供最适合其要求的API。

				API网关也可以实现安全性，例如，验证客户端是否有权执行请求，服务限流、降级、熔断


	